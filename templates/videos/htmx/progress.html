<div class="processing-status">
    {% if video.processing_status == 'pending' %}
        <div class="status pending">
            <i class="fas fa-clock"></i>
            <span>Ожидание обработки...</span>
        </div>
    {% elif video.processing_status == 'processing' %}
        <div class="status processing">
            <i class="fas fa-cog fa-spin"></i>
            <span>Обработка видео... {{ video.processing_progress }}%</span>
            <div class="progress-bar">
                <div class="progress-fill" style="width: {{ video.processing_progress }}%"></div>
            </div>
        </div>
    {% elif video.processing_status == 'completed' %}
        <div class="status completed">
            <i class="fas fa-check-circle"></i>
            <span>Обработка завершена!</span>
        </div>
    {% elif video.processing_status == 'failed' %}
        <div class="status failed">
            <i class="fas fa-exclamation-triangle"></i>
            <span>Ошибка обработки</span>
            {% if video.processing_error %}
                <p class="error-message">{{ video.processing_error }}</p>
            {% endif %}
        </div>
    {% endif %}
</div>

<style>
.processing-status {
    margin: 20px 0;
}

.status {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 15px;
    border-radius: 8px;
    font-weight: 500;
}

.status.pending {
    background: #fff3cd;
    color: #856404;
    border: 1px solid #ffeaa7;
}

.status.processing {
    background: #d1ecf1;
    color: #0c5460;
    border: 1px solid #bee5eb;
    flex-direction: column;
    align-items: flex-start;
}

.status.completed {
    background: #d4edda;
    color: #155724;
    border: 1px solid #c3e6cb;
}

.status.failed {
    background: #f8d7da;
    color: #721c24;
    border: 1px solid #f5c6cb;
    flex-direction: column;
    align-items: flex-start;
}

.progress-bar {
    width: 100%;
    height: 8px;
    background: rgba(0, 0, 0, 0.1);
    border-radius: 4px;
    overflow: hidden;
    margin-top: 10px;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #28a745, #20c997);
    transition: width 0.3s ease;
}

.error-message {
    margin: 10px 0 0 0;
    font-size: 14px;
    color: #721c24;
    background: rgba(255, 255, 255, 0.5);
    padding: 8px;
    border-radius: 4px;
}

.fa-spin {
    animation: spin 1s linear infinite;
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}
</style>











